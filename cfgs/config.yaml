
defaults:
  - data: SEEDV


seed: 7

log:
  run: 4
  proj_name: 'CLISA_FACED_new'
  # mlp_proj_name: 'CLISA_SeedV_new_hdata'
  # proj_name: 'CLISA_SeedV'
  exp_name: ''
  # mlp_exp_name: ''



train:
  gpus: [2]
  valid_method: 10
  iftest: True
  n_subs: ${data.n_subs}
  lr: 0.0007
  wd: 0.00015
  loss_temp: 0.07
  max_epochs: 100
  min_epochs: 30
  patience: 30
  num_workers: 8


model:
  n_timeFilters: 16
  timeFilterLen: 60
  n_msFilters: 4
  msFilterLen: 3
  n_channs: ${data.n_channs}
  dilation_array: [1,6,12,24]
  seg_att: 30
  avgPoolLen: 30
  timeSmootherLen: 6
  multiFact: 2
  stratified: ['initial', 'middle1', 'middle2']
  activ: 'softmax'
  saveFea: False
  has_att: True
  extract_mode: ${ext_fea.mode}
  global_att: False
  ext_temp: 1.0

mlp:
  fea_dim: 256 #${model.n_timeFilters*model.n_msFilters*4}
  hidden_dim: 128
  out_dim: ${data.n_class}
  lr: 0.00005
  wd: 0.0022   #0.001-0.005
  max_epochs: 100
  min_epochs: 30
  patience: 30
  gpus: ${train.gpus}
  num_workers: ${train.num_workers}
  batch_size: 256

ext_fea:
  # cp_dir: '/mnt/data/model_weights/grm/SEEDV/runs/2024-04-23/03-38-42_/22_11_5fold_run1/checkpoints/'
  # cp_dir: '/mnt/data/model_weights/grm/SEEDV_new2/runs/2024-05-06/21-21-55_/10_5_run1/checkpoints/'
  # cp_dir: '/mnt/data/model_weights/grm/clisa_run/SEED/2024-05-12/16-41-53_run6_data=SEED,log.proj_name=SEED,log.run=6,train.gpus=[0],train.valid_method=loo/ext_checkpoints'
  cp_dir: '/mnt/data/model_weights/grm/clisa_run/FACED/2024-05-12/08-51-13_run4_/ext_checkpoints/'
  # save_dir: '/mnt/data/model_weights/grm/SEEDV/sliced_data/sliced_len22_step11/fea_5fold_run1'
  # save_dir: '/mnt/data/model_weights/grm/SEEDV-NEW/ext_fea/fea'
  normTrain: True
  batch_size: 16
  mode: 'me'
  rn_decay: 0.990


hydra:
  job:
    chdir: true
  run:
    dir: /mnt/data/model_weights/grm/clisa_run/${data.dataset_name}/${now:%Y-%m-%d}/${now:%H-%M-%S}_run${log.run}_${hydra.job.override_dirname}